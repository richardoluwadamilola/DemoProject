@{
    ViewData["Title"] = "Home Page";
}
<body class="body bg-primary">
    <div class="text-center">
    <h1>Gameplay</h1>
</div>
    <div class="container">
        <form id="schoolCodeForm" method="post" action="Home/SubmitCode" class="school-code-form">
        <div class="form-group">
            <label for="schoolCode" class="form-label">Enter School Code to register Candidates:</label>
            <input type="text" class="form-control" id="schoolCode" name="schoolCode" required />
        </div>
        <button type="button" id="submitButton" class="btn btn-primary">Enter</button>
    </form>
</div>

    <div class="right-button">
        <!-- Add a button to navigate to OnboardedCandidates index page -->
        <a href="@Url.Action("Index", "OnboardedCandidates")" class="btn btn-primary">View Onboarded Candidates</a>
    </div>

    <script>
        document.getElementById("submitButton").addEventListener("click", function () {
            var schoolCode = document.getElementById("schoolCode").value;
            var registeredStudents = 10; // Replace with the actual count

            if (schoolCode.trim() === "") {
                alert("Please enter a school code.");
            } else {
                document.getElementById("schoolCodeForm").submit();
            }

        });

        // Add this script to show the alert
        var errorMessage = "@ViewData["ErrorMessage"]";
        if (errorMessage) {
            alert(errorMessage);
            window.location.href = "@Url.Action("Index", "Home")";
            }
    </script>
</body>